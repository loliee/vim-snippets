snippet #
#!/usr/bin/env bash
endsnippet

snippet debug
[[ $DEBUG -eq 1 ]] && set -o xtrace
endsnippet

snippet eot
cat <<EOT >> "${1}"
${2:${VISUAL}}
EOT
$0
endsnippet

snippet set
set -o errexit
set -o pipefail
set -o nounset
endsnippet

snippet export
export ${1}=${$1:=${2:''}}$0
endsnippet

snippet &>
&>/dev/null
endsnippet

snippet pushd
pushd "${1}" &>/dev/null
  ${2:${VISUAL}}
popd &>/dev/null
$0
endsnippet

snippet popd
popd &>/dev/null
endsnippet

snippet if
if [[ ${1} ]]; then
  ${2:${VISUAL}}
fi
$0
endsnippet

snippet for
for ${1:val} in "${2}"; do
  ${3:${VISUAL}}
done
$0
endsnippet

snippet while
while ${1}; do
  ${2:${VISUAL}}
done
$0
endsnippet

snippet args
SCRIPT=$0

function usage
{
   echo
   echo "     -- Aide --     " $INFO
   echo
   echo -e " \033[4mUsage :\033[0m $SCRIPT -p <nim_port>"
   echo
   echo "          Options :"
   echo "              -h (optionnel)   : affiche cette aide"
   echo "              -p (obligatoire) : numéro de port utilisé par solo"
   echo
   echo -e " \033[4mExemples :\033[0m "
   echo -e "       $SCRIPT -p 7001"
   echo

   exit 255
}


# Lecture des parametres
o_port=""
while getopts "p:h" options; do
   case $options in
      p) o_port=$OPTARG
         ;;
    h|?) usage
         ;;
      *) usage
         ;;
  esac
done
endsnippet
